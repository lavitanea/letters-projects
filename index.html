function createSpiral(size, color) {
            const svg = `
                <svg width="${size}" height="${size}" viewBox="0 0 300 300" style="position: absolute; top: 0; left: 0;">
                    <defs>
                        <radialGradient id="spiral${position}">
                            <stop offset="0%" style="stop-color:${color};stop-opacity:1" />
                            <stop offset="60%" style="stop-color:${color};stop-opacity:0.7" />
                            <stop offset="100%" style="stop-color:${color};stop-opacity:0" />
                        </radialGradient>
                    </defs>
                    <path d="M 150 150
                             C 150 120, 170 110, 190 120
                             C 220 135, 230 160, 220 190
                             C 205 230, 160 245, 120 230
                             C 70 210, 50 160, 65 110
                             C 80 60, 140 40, 190 55
                             C 250 75, 280 140, 265 200
                             C 245 270, 170 300, 100 280"
                          fill="none" 
                          stroke="url(#spiral${position})" 
                          stroke-width="25" 
                          stroke-linecap="round"
                          style="filter: blur(2px);"/>
                    <path d="M 150 150
                             C 150 120, 170 110, 190 120
                             C 220 135, 230 160, 220 190
                             C 205 230, 160 245, 120 230
                             C 70 210, 50 160, 65 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Abstract Art v2</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            background: #000000;
            font-family: 'Arial', sans-serif;
        }
        
        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
        }
        
        .shape {
            position: absolute;
            pointer-events: none;
            mix-blend-mode: lighten;
        }
        
        .line {
            mix-blend-mode: normal;
        }
        
        .pulse-circle {
            animation: pulseGrow 3s ease-in-out infinite;
        }
        
        .line {
            animation: lineGrow 0.8s ease-out;
            z-index: 100;
            mix-blend-mode: normal;
        }
        
        .wave-shape {
            animation: waveTravel 12s linear infinite, waveUndulate 3s ease-in-out infinite;
        }
        
        .blob {
            animation: blobMorph 8s ease-in-out infinite, blobFloat 10s ease-in-out infinite;
        }
        
        @keyframes pulseGrow {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 0.9;
            }
            50% {
                transform: scale(1.25) rotate(180deg);
                opacity: 1;
            }
        }
        
        @keyframes lineGrow {
            from {
                height: 0;
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes waveTravel {
            0% {
                left: -10%;
                top: 0%;
            }
            25% {
                left: 90%;
                top: 10%;
            }
            50% {
                left: 85%;
                top: 80%;
            }
            75% {
                left: 5%;
                top: 90%;
            }
            100% {
                left: -10%;
                top: 0%;
            }
        }
        
        @keyframes waveUndulate {
            0%, 100% {
                border-radius: 45% 55% 50% 50% / 75% 75% 25% 25%;
            }
            33% {
                border-radius: 55% 45% 60% 40% / 65% 80% 20% 35%;
            }
            66% {
                border-radius: 40% 60% 45% 55% / 70% 65% 35% 30%;
            }
        }
        
        @keyframes blobMorph {
            0%, 100% {
                border-radius: 60% 40% 70% 30% / 50% 60% 40% 50%;
            }
            25% {
                border-radius: 40% 60% 50% 50% / 70% 30% 70% 30%;
            }
            50% {
                border-radius: 55% 45% 35% 65% / 60% 55% 45% 40%;
            }
            75% {
                border-radius: 45% 55% 65% 35% / 40% 65% 35% 60%;
            }
        }
        
        @keyframes blobFloat {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            33% {
                transform: translate(30px, -40px) rotate(120deg);
            }
            66% {
                transform: translate(-20px, 20px) rotate(240deg);
            }
        }
        
        .info {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.4);
            font-size: 13px;
            text-align: center;
            pointer-events: none;
            z-index: 1000;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        .clear-btn {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.7);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            cursor: pointer;
            font-size: 12px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 1000;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .clear-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            color: white;
        }
    </style>
</head>
<body>
    <div id="canvas"></div>
    <button class="clear-btn" onclick="clearCanvas()">Clear</button>
    <div class="info">Type to create</div>
    
    <script>
        const canvas = document.getElementById('canvas');
        const shapes = [];
        const lines = [];
        let position = 0;
        
        const colors = {
            round: ['#5DADE2', '#A569BD', '#EC7063'],
            line: ['#000000'],
            wave: ['#1ABC9C', '#48C9B0', '#76D7C4'],
            blob: ['#F4D03F', '#F8C471', '#FAD7A0'],
            sharp: ['#FF6B9D', '#FFA07A', '#FFB6C1']
        };
        
        function createMondrianLine(isVertical) {
            const line = document.createElement('div');
            line.className = 'shape line';
            line.style.background = '#000000';
            line.style.border = 'none';
            
            if (isVertical) {
                line.style.width = '8px';
                line.style.height = '100vh';
                line.style.left = (Math.random() * 80 + 10) + '%';
                line.style.top = '0';
                line.style.transform = 'none';
            } else {
                line.style.width = '100vw';
                line.style.height = '8px';
                line.style.top = (Math.random() * 80 + 10) + '%';
                line.style.left = '0';
                line.style.transform = 'none';
            }
            
            line.style.transition = 'none';
            canvas.appendChild(line);
            lines.push(line);
            return line;
        }
        
        function getGridCell() {
            // Find spaces between Mondrian lines to place shapes
            if (lines.length === 0) {
                return {
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2,
                    width: window.innerWidth * 0.3,
                    height: window.innerHeight * 0.3
                };
            }
            
            // Get random position that fits within the grid
            const w = window.innerWidth;
            const h = window.innerHeight;
            
            return {
                x: Math.random() * w * 0.8 + w * 0.1,
                y: Math.random() * h * 0.8 + h * 0.1,
                width: 200 + Math.random() * 300,
                height: 200 + Math.random() * 300
            };
        }
        
        function getCornerPosition(index) {
            const w = window.innerWidth;
            const h = window.innerHeight;
            const corners = [
                { x: 0, y: 0 },           // Top-left
                { x: w, y: 0 },           // Top-right
                { x: w, y: h },           // Bottom-right
                { x: 0, y: h }            // Bottom-left
            ];
            return corners[index % 4];
        }
        
        function getFillPosition(index) {
            const w = window.innerWidth;
            const h = window.innerHeight;
            const centerX = w / 2;
            const centerY = h / 2;
            
            // Start from corners and progressively fill empty spaces
            const level = Math.floor(index / 4);
            const posInLevel = index % 4;
            
            // Calculate position based on subdividing the space
            const segment = Math.floor(level / 4);
            const subPos = level % 4;
            
            let baseX, baseY;
            
            // Corners first, then edges, then progressively fill inward
            if (level === 0) {
                // Four corners
                const corners = [
                    { x: 50, y: 50 },
                    { x: w - 50, y: 50 },
                    { x: w - 50, y: h - 50 },
                    { x: 50, y: h - 50 }
                ];
                return corners[posInLevel];
            } else if (level < 4) {
                // Edge positions
                const edgePositions = [
                    { x: centerX, y: 50 },                    // Top
                    { x: w - 50, y: centerY },                // Right
                    { x: centerX, y: h - 50 },                // Bottom
                    { x: 50, y: centerY }                     // Left
                ];
                return edgePositions[posInLevel];
            } else {
                // Fill remaining space with spiral-like pattern
                const angle = index * 2.4;
                const radius = (level - 4) * 80 + 150;
                const maxRadius = Math.min(centerX, centerY) * 0.8;
                const normalizedRadius = Math.min(radius, maxRadius);
                
                return {
                    x: centerX + normalizedRadius * Math.cos(angle),
                    y: centerY + normalizedRadius * Math.sin(angle)
                };
            }
        }
        
        function createSpiral(size, color) {
            const svg = `
                <svg width="${size}" height="${size}" viewBox="0 0 200 200" style="position: absolute; top: 0; left: 0;">
                    <defs>
                        <radialGradient id="spiral${position}">
                            <stop offset="0%" style="stop-color:${color};stop-opacity:1" />
                            <stop offset="60%" style="stop-color:${color};stop-opacity:0.6" />
                            <stop offset="100%" style="stop-color:${color};stop-opacity:0" />
                        </radialGradient>
                    </defs>
                    <path d="M 100 100 
                             Q 100 50, 140 50
                             Q 180 50, 180 90
                             Q 180 140, 140 140
                             Q 80 140, 80 100
                             Q 80 60, 110 60
                             Q 130 60, 130 80
                             Q 130 90, 120 90"
                          fill="none" 
                          stroke="url(#spiral${position})" 
                          stroke-width="20" 
                          stroke-linecap="round"/>
                </svg>
            `;
            return svg;
        }
        
        function createShape(letter) {
            const lowerLetter = letter.toLowerCase();
            
            // I and L create Mondrian-style lines
            if ('il'.includes(lowerLetter)) {
                const isVertical = Math.random() > 0.5;
                createMondrianLine(isVertical);
                position++;
                return;
            }
            
            const shape = document.createElement('div');
            shape.className = 'shape';
            
            const cell = getGridCell();
            
            shape.style.left = cell.x + 'px';
            shape.style.top = cell.y + 'px';
            shape.style.opacity = '0';
            
            setTimeout(() => {
                shape.style.transition = 'all 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
                shape.style.opacity = '1';
            }, 100);
            
            if (lowerLetter === 'o') {
                const size = 400;
                const color = colors.round[Math.floor(Math.random() * colors.round.length)];
                shape.innerHTML = createSpiral(size, color);
                shape.classList.add('pulse-circle');
                shape.style.width = size + 'px';
                shape.style.height = size + 'px';
                shape.style.transform = 'translate(-50%, -50%)';
            }
            else if ('qcdgbp'.includes(lowerLetter)) {
                const size = Math.min(cell.width, cell.height) * 0.8;
                const color = colors.round[Math.floor(Math.random() * colors.round.length)];
                shape.style.width = size + 'px';
                shape.style.height = size + 'px';
                shape.style.background = `radial-gradient(circle, ${color} 0%, ${color}99 30%, ${color}00 100%)`;
                shape.style.borderRadius = '50%';
                shape.style.transform = 'translate(-50%, -50%)';
                shape.classList.add('pulse-circle');
            }
            else if (lowerLetter === 'w') {
                const width = Math.min(800, cell.width * 1.5);
                const height = 250;
                shape.style.width = width + 'px';
                shape.style.height = height + 'px';
                const color = colors.wave[Math.floor(Math.random() * colors.wave.length)];
                shape.style.background = `radial-gradient(ellipse, ${color} 0%, ${color}99 40%, ${color}00 100%)`;
                shape.style.transform = 'translate(-50%, -50%)';
                shape.classList.add('wave-shape');
            }
            else if ('mnuvxy'.includes(lowerLetter)) {
                const size = Math.min(cell.width, cell.height) * 0.7;
                const color = colors.wave[Math.floor(Math.random() * colors.wave.length)];
                shape.style.width = size + 'px';
                shape.style.height = size + 'px';
                shape.style.background = `radial-gradient(circle, ${color} 0%, ${color}99 40%, ${color}00 100%)`;
                shape.style.borderRadius = '60% 40% 70% 30% / 50% 60% 40% 50%';
                shape.style.transform = 'translate(-50%, -50%)';
                shape.classList.add('blob');
            }
            else if ('tkjhfr'.includes(lowerLetter)) {
                const width = cell.width * 0.4;
                const height = cell.height * 0.9;
                const color = colors.blob[Math.floor(Math.random() * colors.blob.length)];
                shape.style.width = width + 'px';
                shape.style.height = height + 'px';
                shape.style.background = `radial-gradient(ellipse, ${color} 0%, ${color}99 40%, ${color}00 100%)`;
                shape.style.borderRadius = '40% 60% 45% 55% / 30% 70% 30% 70%';
                shape.style.transform = 'translate(-50%, -50%)';
            }
            else if ('azvse'.includes(lowerLetter)) {
                const size = Math.min(cell.width, cell.height) * 0.7;
                const color = colors.sharp[Math.floor(Math.random() * colors.sharp.length)];
                shape.style.width = size + 'px';
                shape.style.height = size + 'px';
                shape.style.background = `radial-gradient(circle, ${color} 0%, ${color}99 40%, ${color}00 100%)`;
                shape.style.borderRadius = '25% 75% 35% 65% / 70% 30% 70% 30%';
                shape.style.transform = 'translate(-50%, -50%) rotate(' + Math.random() * 360 + 'deg)';
            }
            else {
                const size = Math.min(cell.width, cell.height) * 0.75;
                const color = colors.blob[Math.floor(Math.random() * colors.blob.length)];
                shape.style.width = size + 'px';
                shape.style.height = size + 'px';
                shape.style.background = `radial-gradient(circle, ${color} 0%, ${color}99 40%, ${color}00 100%)`;
                shape.style.borderRadius = '50% 50% 45% 55% / 55% 45% 55% 45%';
                shape.style.transform = 'translate(-50%, -50%)';
            }
            
            canvas.appendChild(shape);
            shapes.push(shape);
            position++;
            
            if (shapes.length > 80) {
                const oldShape = shapes.shift();
                oldShape.style.opacity = '0';
                setTimeout(() => oldShape.remove(), 500);
            }
        }
        
        document.addEventListener('keypress', (e) => {
            if (e.key && e.key.length === 1) {
                createShape(e.key);
            }
        });
        
        function clearCanvas() {
            shapes.forEach(shape => {
                shape.style.opacity = '0';
                setTimeout(() => shape.remove(), 300);
            });
            lines.forEach(line => {
                line.style.opacity = '0';
                setTimeout(() => line.remove(), 300);
            });
            shapes.length = 0;
            lines.length = 0;
            position = 0;
        }
    </script>
</body>
</html>